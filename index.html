<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>T-Sweeper Game</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="sidebar">
    <button id="rulesBtn">Rules</button>
    <button id="dailyPuzzleBtn">Start Daily Puzzle</button>
    <button id="menuBtn">Puzzle Select</button>
    <button id="backToPuzzleBtn">Back</button>
    <div class="sidebar-footer">
      <div class="lb" id="leaderboard">
        <div class="lb-title" id="leaderboardTitle">
          Leaderboard<br>
          <div id="leaderboardName">Puzzle 0</div>
        </div>
        <div class="lb-grid" id="leaderboardGrid">
          <!-- Row 0 -->
          <div class="lb-cell lb-rank" id="rank0">1</div>
          <div class="lb-cell lb-name" id="name0"></div>
          <div class="lb-cell lb-time" id="time0"></div>
          <!-- Row 1 -->
          <div class="lb-cell lb-rank" id="rank1">2</div>
          <div class="lb-cell lb-name" id="name1"></div>
          <div class="lb-cell lb-time" id="time1"></div>
          <!-- Row 2 -->
          <div class="lb-cell lb-rank" id="rank2">3</div>
          <div class="lb-cell lb-name" id="name2"></div>
          <div class="lb-cell lb-time" id="time2"></div>
          <!-- Row 3 -->
          <div class="lb-cell lb-rank" id="rank3">4</div>
          <div class="lb-cell lb-name" id="name3"></div>
          <div class="lb-cell lb-time" id="time3"></div>
          <!-- Row 4 -->
          <div class="lb-cell lb-rank" id="rank4">5</div>
          <div class="lb-cell lb-name" id="name4"></div>
          <div class="lb-cell lb-time" id="time4"></div>
          <!-- Row 5 -->
          <div class="lb-cell lb-rank" id="rank5">6</div>
          <div class="lb-cell lb-name" id="name5"></div>
          <div class="lb-cell lb-time" id="time5"></div>
          <!-- Row 6 -->
          <div class="lb-cell lb-rank" id="rank6">7</div>
          <div class="lb-cell lb-name" id="name6"></div>
          <div class="lb-cell lb-time" id="time6"></div>
          <!-- Row 7 -->
          <div class="lb-cell lb-rank" id="rank7">8</div>
          <div class="lb-cell lb-name" id="name7"></div>
          <div class="lb-cell lb-time" id="time7"></div>
          <!-- Row 8 -->
          <div class="lb-cell lb-rank" id="rank8">9</div>
          <div class="lb-cell lb-name" id="name8"></div>
          <div class="lb-cell lb-time" id="time8"></div>
          <!-- Row 9 -->
          <div class="lb-cell lb-rank" id="rank9">10</div>
          <div class="lb-cell lb-name" id="name9"></div>
          <div class="lb-cell lb-time" id="time9"></div>
        </div>
      </div>
      <br>
      <p>Created by Jacob Truesdale</p>
      <p>Version 1.0</p>
    </div>
  </div>
  <div class="content">
    <!--Puzzle Selection Menu-->
    <div id="panel" class="panel">
      <div class="panel-inner">
        <div class="panel-main">
          <div id="panelBody"></div>
        </div>
        <div class="panel-rail">
          <button class="rail-btn" data-category="Easy">Easy</button>
          <button class="rail-btn" data-category="Medium">Medium</button>
          <button class="rail-btn" data-category="Hard">Hard</button>
          <button class="rail-btn" data-category="Expert">Expert</button>
        </div>
      </div>
    </div>
    <!--Puzzle Gameplay-->
    <div class="puzzleGameBox" id="puzzleBox">
      <!-- left column (board) -->
      <div class="board-area">
        <div class="bigMS-grid" id="gameBoard"></div>
      </div>

      <!-- right column (controls) -->
      <div class="control-area">
        <div class="right-grid">
          <!-- LEFT: HUD + buttons (stacked) -->
          <div class="left-rail">
            <div class="hud">
              <div id="mineHud">0 / 0 Mines</div>
              <div id="timeHud">00:00:00</div>
            </div>

            <div class="button-col">
              <div class="button-stack">
                <div id="regionResolveMsg" class="resolve-msg" style="display:none;"></div>
                <button id="createRegionBtn">Create Region</button>
                <button id="deleteRegionBtn">Delete Region</button>

                <button id="createSaveBtn">Create Save State</button>
                <button id="deleteSaveBtn">Delete Save State</button>

                <button id="checkSolutionBtn">Check Solution</button>
                <button id="resetProgressBtn">Reset Progress</button>
              </div>
            </div>
          </div>

          <!-- RIGHT: Notes spanning full height -->
          <div class="notes-col">
            <div class="list-box" id="notesBox">
              <div class="list-title">Notes</div>
              <textarea id="notesText" placeholder="Type notes here..."></textarea>
              <div class="list-divider"></div>
              <div class="list-title">Regions</div>
              <div class="list-frame">
                <div id="regionList" class="list-items"></div>
              </div>
              <div class="list-divider"></div>
              <div class="list-title">Save States</div>
              <div class="list-frame">
                <div id="saveList" class="list-items"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--Introduction and Rules-->
    <div id="myTitle">
      <h1>Welcome to T-Sweeper</h1>
      <br>
      <h3>A MineSweeper Variant I created</h3>
      <br>
      <p>
        Were/Are you a child with a crap computer that didn't have many video games?<br>
        Did you find some weird game installed on every computer called MineSweeper?<br>
        Do you wish that you could play MineSweeper without needing that pesky computer?<br>
        Do you work for the New York Times Puzzle Department and want to buy my T-Sweeper Puzzle creation
        software?<br><br>
        If you said yes to even a single one of these questions, particularly question 4, then this website is for
        YOU!<br><br>
        This website is my repository for my T-Sweeper puzzles, allowing anyone to play them.<br>
        It's free with 0 ads because I have a job and ADHD (but seriously, tell your friends and NYT Puzzle Dept.
        contacts).<br><br>
      </p>
      <div class="rule">
        <h3>Rules and Examples</h3>
        <br>
        <p class="rule-text">
          Rule 1) All Normal MineSweeper rules apply. This is an alternate way to play MineSweeper that I created. <br>
          <br> MineSweeper rules are that there are some number of mines on the puzzle board. Each cell contains a clue
          value
          <br> that tells you exactly how many mines are in the surrounding 8 cells (3 in a corner, 5 on a wall). <br>
          <br> In normal MineSweeper, you are clicking on cells to reveal their clue, while avoiding clicking on cells
          <br> with a mine. My puzzle is static. Your job here, is not to click on cells to reveal them, but to mark the
          cells
          <br> without any value written in them as either safe (x) or with a flag (f)
        </p>
        <br>
        <p class="rule-text">
          Rule 2) All safe cells with a clue of 0, 1, 5, or 6 have been revealed. Clues of 7 and 8 are impossible due to
          Rule 4.
        </p>
        <br>
        <p class="rule-text">
          Rule 3) All Gray Flags have been revealed. A Gray Flag is a cell that contains a mine and has a clue value of
          1.
          <br> These cells are Gray and contain the letter F. They count towards the total number of mines on the grid.
        </p>
        <br>
        <p class="rule-text">
          Rule 4) All cells that contain mines have clue values of either 1, 2, or 3.
        </p>
        <br>
        <p class="rule-text">
          Rule 5) For each safe cell that has not been revealed by Rule 2, take the number of Gray Flags it can see (N)
          and
          <br> the number of non-Gray Flag mines it can see (M). If N > M then the cell is revealed.<br>
          Another way to think about this is that if a safe cell can see more Gray Flags than non-Gray Flag mines, <br>
          then it must be revealed.
        </p>
        <br>
        <p class="rule-text">
          Rule 6) Some cells have nothing written in them, but have the color Yellow or Orange. These are Color Clues.
          <br> A Color Clue tells you the clue value of that cell. Yellow = 2, Orange = 3. This tells you how many mines
          are
          <br> in the surrounding 8 cells. It does NOT tell you if the cell itself contains a mine or not. <br>
          <br> Technically Color Clue 4 exists too, but since no mine can ever have a clue of 4, the number 4 has been
          <br> written into the cell for your convenience.
        </p>
        <br><br>
      </div>
      <div class="rule-examples">
        <!-- Example 1 -->
        <!-- Left grid -->
        <div class="smallMS-grid">
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c3"> </div>
          <div class="cell ce"> </div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell c3"> </div>
          <div class="cell ce">B</div>
          <div class="cell ce"> </div>
          <div class="cell ce">A</div>
          <div class="cell cF">F</div>
          <div class="cell ce"> </div>
          <div class="cell ce"> </div>
          <div class="cell ce"> </div>
        </div>
        <!-- Text -->
        <div class="rule-textex">
          <p>
            This puzzle has 2 out of 7 mines located, with 5 left to find.
            <br>Cell A violates rule 2. It should be a 1.
            <br>Cell B also violates rule 2. It should be a 5.
          </p>
        </div>
        <!-- Right grid -->
        <div class="smallMS-grid">
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c0">0</div>
          <div class="cell c3">x</div>
          <div class="cell ce">f</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell c3">x</div>
          <div class="cell c5">5</div>
          <div class="cell ce">f</div>
          <div class="cell c1">1</div>
          <div class="cell cF">F</div>
          <div class="cell ce">f</div>
          <div class="cell ce">f</div>
          <div class="cell ce">f</div>
        </div>
      </div>
      <br>
      <div class="rule-examples">
        <!-- Example 2 -->
        <!-- Left grid -->
        <div class="smallMS-grid">
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell ce">A</div>
          <div class="cell ce"> </div>
          <div class="cell c4">4</div>
          <div class="cell c4">4</div>
          <div class="cell ce"> </div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell ce">D</div>
          <div class="cell ce">C</div>
          <div class="cell ce">D</div>
          <div class="cell c1">1</div>
          <div class="cell ce">B</div>
          <div class="cell c2">2</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
        </div>
        <!-- Text -->
        <div class="rule-textex">
          <p>
            This puzzle has 3 out of 6 mines located, with 3 left to find.
            <br>Cell A violates rule 5. It should be a 3.
            <br>Cell B violates rule 2. It should be a 1.
            <br>Cell C violates rule 3. It should be a Gray Flag.
            <br>Both Cells D violate rule 4. They should be a 3 and a 2.
          </p>
        </div>
        <!-- Right grid -->
        <div class="smallMS-grid">
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c3">3</div>
          <div class="cell ce">f</div>
          <div class="cell c4">4</div>
          <div class="cell c4">4</div>
          <div class="cell ce">f</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c3">3</div>
          <div class="cell cF">F</div>
          <div class="cell c2">2</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
        </div>
      </div>
      <br>
      <div class="rule-examples">
        <!-- Example 3 -->
        <!-- Left grid -->
        <div class="smallMS-grid">
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c3"> </div>
          <div class="cell ce"> </div>
          <div class="cell c3"> </div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell ce"> </div>
          <div class="cell ce">A</div>
          <div class="cell ce"> </div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c3"> </div>
          <div class="cell ce"> </div>
          <div class="cell c4">4</div>
          <div class="cell c2">2</div>
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell ce">B</div>
        </div>
        <!-- Text -->
        <div class="rule-textex">
          <p>
            This puzzle has 0 out of 6 mines located, with 6 left to find.
            <br>Cell A violates rule 4. It cannot be a mine since it would see 4 mines.
            <br>Cell B violates rule 4. It should be safe since the rule is a 0.
            <br>These changes adjust the other clues, which is reflected in the grid to the right.
          </p>
        </div>
        <!-- Right grid -->
        <div class="smallMS-grid">
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c2">x</div>
          <div class="cell ce">f</div>
          <div class="cell c2">x</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell ce">f</div>
          <div class="cell c4">4</div>
          <div class="cell ce">f</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">x</div>
          <div class="cell ce">f</div>
          <div class="cell c2">x</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
        </div>
      </div>
      <br>
      <div class="rule-examples">
        <!-- Example 4 -->
        <!-- Left grid -->
        <div class="smallMS-grid">
          <div class="cell c1">1</div>
          <div class="cell ce"> </div>
          <div class="cell c2"> </div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell ce"> </div>
          <div class="cell ce"> </div>
          <div class="cell ce"> </div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell ce"> </div>
          <div class="cell c3"> </div>
          <div class="cell c5">5</div>
          <div class="cell c3">3</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c3">3</div>
          <div class="cell cF">F</div>
          <div class="cell cF">F</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
        </div>
        <!-- Text -->
        <div class="rule-textex">
          <p>
            This puzzle has 3 out of 6 mines located, with 3 left to find.
            <br>This is a valid puzzle, and it shows how Color Clues work.
            <br>They are not required to be shown from rules 2, 3, or 5.
            <br>Color Clues can be a mine or safe. They do not reveal what
            <br>is in its own cell, but they do reveal the clue color.
          </p>
        </div>
        <!-- Right grid -->
        <div class="smallMS-grid">
          <div class="cell c1">1</div>
          <div class="cell cx">x</div>
          <div class="cell c2">x</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell cx">x</div>
          <div class="cell ce">f</div>
          <div class="cell ce">f</div>
          <div class="cell c1">1</div>
          <div class="cell c0">0</div>
          <div class="cell cx">x</div>
          <div class="cell c3">f</div>
          <div class="cell c5">5</div>
          <div class="cell c3">3</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
          <div class="cell cF">F</div>
          <div class="cell c3">3</div>
          <div class="cell cF">F</div>
          <div class="cell cF">F</div>
          <div class="cell c1">1</div>
          <div class="cell c1">1</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
          <div class="cell c2">2</div>
        </div>
      </div>
      <p class="rule-text">
        I hope anyone who sees this enjoys these puzzles I made. It took a lot of time and effort to<br>
        make the puzzle creation software. So, I really appreciate anyone who plays them. Thanks!<br>
        Any thoughts or comments can be emailed to JTStudyNotes@Gmail.com. I don't expect this to become<br>
        very popular, so there is a good chance I'll respond.
      </p>
      <br>
      <h3>Leader Board Rules</h3>
      <br>
      <p class="rule-text">
        First, I am not implementing any kind of bot detection, because I just want to get this website live. <br>
        I'll check the leader board every now and then, but as far as it goes, this is a small puzzle website for these
        puzzles,<br>
        don't be a jerk. Solve them legitimately. That said, in order to qualify for the leader board:<br><br>
        1. You cannot use the reset progress button. You start when you start.<br><br>
        2. You cannot use Auto Resolve for region solving. You can still use regions and save states, but you are the
        solver.<br><br>
        3. You cannot use the Check Solution button until all open cells have either an f or an x.
      </p>
      <br>
      <h3>Information about Data usage</h3>
      <br>
      <p class="rule-text">
        I believe in complete transparancy for how I am using data and your computer's storage.<br>
        Below is a complete list of everything that is getting saved to your local storage.<br><br>
        1. I save a list of puzzles you've solved. This is exclusivly to update the thumbnails in the<br>
        puzzle selection menu. I thought it would look cool to update those as you solve them.<br><br>
        2. For the purpose of the leader boards, I am using your local storage to keep track of how long<br>
        it takes you to solve a puzzle, and your progress in that puzzle. Like I said, I'm not going to<br>
        implement any bot detection for cheating. This is just a friendly puzzle site. Please don't cheat.<br><br>
        3. I am maintaining a google sheet for the leader boards. I store your 3 letter initals and your<br>
        completion time when you submit your score.<br><br>
      </p>
    </div>
  </div>
  <!-- Leaderboard Disqualification Warning Modal -->
  <div id="disqualifyModalOverlay" class="modal-overlay">
    <div class="modal">
      <h3>Leaderboard Disqualification Warning</h3>
      <p id="disqualifyMessage">This action will disqualify this puzzle from leaderboard submission.</p>
      <p style="font-size: 0.9em; color: #666;">Are you sure you want to continue?</p>
      <div class="actions">
        <button id="disqualifyCancelBtn" type="button">Cancel</button>
        <button id="disqualifyConfirmBtn" type="button" style="background-color: #ff6b6b;">Continue</button>
      </div>
    </div>
  </div>
  <div id="regionModalOverlay" class="modal-overlay">
    <div class="modal">
      <h3>Confirm Region</h3>

      <div class="row">
        <label for="regionMinInput">Minimum mines</label>
        <input id="regionMinInput" type="number" min="0" step="1" value="0">
      </div>

      <div class="row">
        <label for="regionMaxInput">Maximum mines</label>
        <input id="regionMaxInput" type="number" min="0" step="1" value="0">
      </div>

      <div class="checkrow">
        <input id="regionAutoResolveInput" type="checkbox">
        <label for="regionAutoResolveInput">Auto resolve region</label>
      </div>

      <div class="actions">
        <button id="regionCancelBtn" type="button">Cancel</button>
        <button id="regionOkBtn" type="button">Create</button>
      </div>
    </div>
  </div>
  <!-- Resume/Restart Modal -->
  <div id="resumeRestartModalOverlay" class="modal-overlay">
    <div class="modal">
      <h3>Puzzle Already In Progress</h3>
      <p>You have previous progress on this puzzle. Do you want to continue or start over?</p>
      <p id="progressDisqualifyMsg" style="font-size: 0.9em; color: #ff6b6b; display: none;">Note: Starting over will disqualify this puzzle from leaderboard submission.</p>
      <div class="actions">
        <button id="resumeBtn" type="button">Continue</button>
        <button id="restartBtn" type="button" style="background-color: #ff6b6b;">Start Over</button>
      </div>
    </div>
  </div>
  <!-- Solution Result Modal -->
  <div id="solutionResultModalOverlay" class="modal-overlay">
    <div class="modal" style="position: relative; display: flex; flex-direction: column; align-items: center;">
      <button id="solutionResultCloseBtn" type="button" style="position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 24px; cursor: pointer; color: #000000;">&times;</button>
      <br>
      <p id="solutionResultMessage" style="text-align: center;">Your puzzle solution is correct!</p>
      <br>
      <div id="solutionResultActions" class="actions" style="display: none;">
        <button id="revealIncorrectBtn" type="button">Reveal Incorrect Cells</button>
      </div>
    </div>
  </div>
</body>
<script type="module" src="js/main.js"></script>

</html>